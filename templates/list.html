<!DOCTYPE HTML>
<html>
	<head>
		<title>capstone3</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
		<link rel="stylesheet" href="/static/assets/css/str_main.css" />
	</head>
	<body class="homepage is-preload">
		<div id="page-wrapper">

			<!-- Header -->
				<section id="header">
					<div class="container">

						<!-- Logo -->
							<h1 id="logo"><a href="/user_main">프로그램 이름</a></h1>
						<!-- Nav -->
							<nav id="nav">
								<ul>
									<li><a class="icon solid fa-home" href="/user_main"><span>Home</span></a></li>
									<li><a class="icon fa-chart-bar" href="/imgUpload"><span>이미지 업로드</span></a></li>
									<li><a class="icon solid fa-cog" href="cameraUpload"><span>실시간 검사</span></a></li>
									<li><a class="icon solid fa-retweet" href="/list"><span>내역조회</span></a></li>
									<li><a class="icon solid fa-retweet" href="/statistics"><span>통계</span></a></li>
									<li><a class="icon solid fa-sitemap" href=" "><span>로그아웃</span></a></li>
								</ul>
							</nav>

					</div>
				</section>

			<!-- Main -->
				<section id="main">
					<div class="container" style="display: flex; flex-direction: column; align-items : center;">
						<div style="width: 85%; margin-top: 10px;">
							검사결과(임시 입니다 아마 페이지 만들고 넣을라면 jinja2로 쓴 부분은 javascript로 코드 다시 짜서 넣어야 할거에요)
							<table >
							<tr>
							   <th scope="col">검사 번호</th>
							   <th scope="col">일련 번호</th>
							   <th scope="col">날짜</th>
							   <th scope="col">부품 종류</th>
							   <th scope="col">불량 유형</th>
							   <th scope="col">불량 여부</th>
							</tr>
							{%if list == ['no']%}
							<script>
								alert('검색 결과가 없습니다.')
								window.location.href="./user_main"
							</script>
							{%else%}
							{% for item in list %}
							<tr>
								<td><option>{{item.inspection_number}}</option></td>
								<td><option>{{item.part_id}}</option></td>
								<td><option>{{item.date}}</option></td>
								<td><option>{{item.part_name}}</option></td>
								<td><option>{{item.part_category}}</option></td>
								<td><option>{{item.part_judge}}</option></td>
							</tr>
							{% endfor %}
							{%endif%}
							</table>
						 </div>

						 <div>
							<form method="post" action="" style="display: inline-flex; flex-direction: row; margin: 10px;">
								<select id="selectbox" name="selectbox" style="width: 130px; height: 40px;" onchange="filtering()">
									<option value="none" style="text-align:center;">-----선택-----</option>
									<option value="date" style="text-align:center;">검사 날짜</option>
									<option value="parts" style="text-align:center;">부품</option>
									<option value="user" style="text-align:center;">담당자</option>
									<option value="category" style="text-align:center;">불량유형</option>
								</select>
								&nbsp 
								<input class= textform type="text" name="search_box" id = "search_box" autocomplete="off" placeholder="필터를 선택하세요." required style="width: 300px; height: 40px; text-align:center;" >
								&nbsp 
								<input class = submit type="submit" value= "검색" style="width: 100px; height: 40px;">

							</form>
						</div>
					</div>
				</section>

		<!-- Scripts -->
			<script>
				function popup(){//상세 조회
					var url = "detail.html";
					var name = "detail list";
					var option = "width = 1000, height = 500, top = 100, left = 200, location = no"
					window.open(url, name, option);
				}

				function filtering(){ //필터링
					var opt = document.getElementById("selectbox");
					var opt_val = opt.options[opt.selectedIndex].value;
					var info = ""

					if (opt_val=='date'){
						info = "날짜를 입력하세요.";
					} 
					else if (opt_val=='parts'){
						info = "부품 이름을 입력하세요.";
					} 
					else if (opt_val=='user'){
						info = "담당자의 이름을 입력하세요.";
					}
					else if (opt_val=='category'){
						info = "부품 유형을 입력하세요.";
					}
					document.getElementById("search_box").placeholder = info;
   				}
			</script>
			<script src="/static/assets/js/str_jquery.min.js"></script>
			<script src="/static/assets/js/str_jquery.dropotron.min.js"></script>
			<script src="/static/assets/js/str_browser.min.js"></script>
			<script src="/static/assets/js/str_breakpoints.min.js"></script>
			<script src="/static/assets/js/str_util.js"></script>
			<script src="/static/assets/js/str_main.js"></script>

	</body>
</html>